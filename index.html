<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title> Cup√≥n Screen Night </title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <div class="coupon-container" id="couponBox">
    <h1>üíóüé¨ Screen Night üéÆüíó</h1>

    <label for="tipo">Qu√© vamos a hacer:</label>
    <select id="tipo">
      <option value="peli">Peli üé¨</option>
      <option value="play">Play üéÆ</option>
      <option value="otro">Otro üí¨</option>
    </select>

    <label for="detalle">Juego / Peli:</label>
    <input type="text" id="detalle" placeholder="Escribe aqu√≠... üíï">

    <label>Calificaci√≥n:</label>
    <div class="stars" id="stars">
      <span class="star" data-value="1">‚òÖ</span>
      <span class="star" data-value="2">‚òÖ</span>
      <span class="star" data-value="3">‚òÖ</span>
      <span class="star" data-value="4">‚òÖ</span>
      <span class="star" data-value="5">‚òÖ</span>
    </div>

    <button onclick="enviar()">Guardar üíñ</button>

    <div class="history" id="history">
      <h2>Historial</h2>
    </div>
  </div>

  <script src="script.js"></script>

<style>
body {
  font-family: 'Poppins', 'Arial', sans-serif;
  background-color: #e6efff;
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  margin: 0;
  color: #355c8b;
  position: relative;
  overflow: hidden;
}

/* üå∏ Corazones decorativos suaves */
.decor-heart {
  position: absolute;
  width: 60px;
  opacity: 0.25;
  animation: latido 4s ease-in-out infinite;
}

.heart-1 {
  top: 40px;
  left: 50%;
  transform: translateX(-50%);
  filter: drop-shadow(0 0 6px #ffb6c1);
}

.heart-2 {
  bottom: 60px;
  right: 15%;
  width: 45px;
  filter: drop-shadow(0 0 5px #f8a6c2);
  animation-delay: 1.5s;
}

@keyframes latido {
  0%, 100% { transform: scale(1) translateX(-50%); }
  50% { transform: scale(1.08) translateX(-50%); }
}

.coupon-container {
  width: 340px;
  background-color: #f4f8ff;
  border: 2px solid #b4c8e9;
  border-radius: 15px;
  padding: 25px;
  box-shadow: 0 6px 10px rgba(140, 169, 210, 0.2);
  text-align: center;
  z-index: 2;
  position: relative;
}

h1 {
  font-size: 1.7rem;
  color: #3562a1;
  margin-bottom: 15px;
  position: relative;
}

label {
  display: block;
  margin-top: 10px;
  color: #2e4f8c;
  font-weight: 500;
  text-align: left;
}

select, input {
  width: 100%;
  padding: 10px;
  margin-top: 6px;
  border: 1px solid #aac0e3;
  border-radius: 8px;
  font-size: 1rem;
  background-color: #fff;
  transition: box-shadow 0.2s ease;
}

select:focus, input:focus {
  outline: none;
  box-shadow: 0 0 5px rgba(53, 98, 161, 0.4);
}

/* ‚≠ê Estrellas */
.stars {
  display: flex;
  justify-content: center;
  margin-top: 10px;
  gap: 6px;
}

.star {
  font-size: 26px;
  color: #c6d6f2;
  cursor: pointer;
  transition: color 0.2s ease, transform 0.2s ease;
}

.star:hover,
.star.selected {
  color: #ffd86b;
  transform: scale(1.2);
  text-shadow: 0 0 5px rgba(255, 215, 0, 0.6);
}

button {
  margin-top: 20px;
  width: 100%;
  padding: 12px;
  background-color: #7fa8e0;
  color: white;
  border: none;
  border-radius: 8px;
  font-weight: bold;
  cursor: pointer;
  font-size: 1rem;
  transition: all 0.25s ease;
}

button:hover {
  background-color: #5d85c7;
  box-shadow: 0 3px 8px rgba(93, 133, 199, 0.3);
}

.history {
  background-color: #ffffff;
  border: 2px solid #c3d5ef;
  border-radius: 12px;
  width: 100%;
  margin-top: 25px;
  padding: 15px;
  box-shadow: 0 4px 8px rgba(120, 150, 200, 0.15);
  overflow-y: auto;
  max-height: 260px;
  max-width: 19.5em;
}

.history h2 {
  color: #3562a1;
  margin-bottom: 10px;
  font-size: 1.1rem;
}

.history-item {
  background-color: #eef5ff;
  padding: 10px;
  margin-bottom: 10px;
  border-radius: 8px;
  border-left: 4px solid #8faee2;
  animation: aparecer 0.6s ease;
}

@keyframes aparecer {
  from { opacity: 0; transform: translateY(8px); }
  to { opacity: 1; transform: translateY(0); }
}

.history-item p {
  margin: 2px 0;
  font-size: 0.9rem;
}

.history-item .date {
  font-size: 0.8rem;
  color: #486ba1;
  font-style: italic;
}

/* ‚ú® Brillo suave al guardar */
.coupon-container.glow {
  box-shadow: 0 0 20px rgba(255, 182, 193, 0.5);
}

/* Media Queries para pantallas de celular promedio (hasta 480px de ancho) */
@media (max-width: 480px) {
  body {
    padding: 10px; /* Agregar padding al body para margen en m√≥viles */
  }

  .coupon-container {
    width: 90%; /* Reducir ancho para que quepa mejor */
    padding: 15px; /* Reducir padding */
    margin: 10px; /* Agregar margen para centrar mejor */
    border-radius: 10px; /* Reducir radio de borde */
  }

  h1 {
    font-size: 1.4rem; /* Reducir tama√±o de fuente */
    margin-bottom: 10px; /* Reducir margen inferior */
  }

  label {
    margin-top: 8px; /* Reducir margen superior */
    font-size: 0.9rem; /* Reducir tama√±o de fuente */
  }

  select, input {
    padding: 8px; /* Reducir padding */
    margin-top: 5px; /* Reducir margen superior */
    font-size: 0.9rem; /* Reducir tama√±o de fuente */
  }

  .stars {
    margin-top: 8px; /* Reducir margen superior */
    gap: 4px; /* Reducir gap */
  }

  .star {
    font-size: 22px; /* Reducir tama√±o de fuente */
  }

  button {
    margin-top: 15px; /* Reducir margen superior */
    padding: 10px; /* Reducir padding */
    font-size: 0.9rem; /* Reducir tama√±o de fuente */
  }

  .history {
    margin-top: 20px; /* Reducir margen superior */
    padding: 10px; /* Reducir padding */
    max-height: 200px; /* Reducir altura m√°xima */
    max-width: 100%; /* Ajustar ancho m√°ximo */
  }

  .history h2 {
    margin-bottom: 8px; /* Reducir margen inferior */
    font-size: 1rem; /* Reducir tama√±o de fuente */
  }

  .history-item {
    padding: 8px; /* Reducir padding */
    margin-bottom: 8px; /* Reducir margen inferior */
  }

  .history-item p {
    font-size: 0.85rem; /* Reducir tama√±o de fuente */
  }

  .history-item .date {
    font-size: 0.75rem; /* Reducir tama√±o de fuente */
  }

  .decor-heart {
    width: 40px; /* Reducir tama√±o de corazones */
  }

  .heart-1 {
    top: 20px; /* Ajustar posici√≥n */
  }

  .heart-2 {
    bottom: 30px; /* Ajustar posici√≥n */
    right: 10%; /* Ajustar posici√≥n */
    width: 30px; /* Reducir tama√±o */
  }
}
</style>
<script>

let calificacionSeleccionada = 0;

// Manejo de estrellas
document.querySelectorAll('.star').forEach(star => {
  star.addEventListener('click', function() {
    calificacionSeleccionada = parseInt(this.getAttribute('data-value'));
    actualizarEstrellas(calificacionSeleccionada);
  });
});

function actualizarEstrellas(valor) {
  document.querySelectorAll('.star').forEach(star => {
    star.classList.toggle('selected', parseInt(star.getAttribute('data-value')) <= valor);
  });
}

function obtenerFecha() {
  const date = new Date();
  return `${date.getDate().toString().padStart(2, '0')}/${(date.getMonth() + 1).toString().padStart(2, '0')}/${date.getFullYear()}`;
}

function enviar() {
  const tipo = document.getElementById('tipo').value;
  const detalle = document.getElementById('detalle').value;
  const fecha = obtenerFecha();
  const couponBox = document.getElementById('couponBox');

  if (detalle.trim() === '' || calificacionSeleccionada === 0) {
    alert('üíô Por fa, completa todo antes de guardar üíô');
    return;
  }

  const cupon = { tipo, detalle, calificacion: calificacionSeleccionada, fecha };
  let cupones = JSON.parse(localStorage.getItem('cupones')) || [];
  cupones.push(cupon);
  localStorage.setItem('cupones', JSON.stringify(cupones));

  document.getElementById('detalle').value = '';
  calificacionSeleccionada = 0;
  actualizarEstrellas(0);
  mostrarHistorial();

  // ‚ú® Brillo temporal
  couponBox.classList.add('glow');
  setTimeout(() => couponBox.classList.remove('glow'), 800);
}

function mostrarHistorial() {
  const cupones = JSON.parse(localStorage.getItem('cupones')) || [];
  const historyDiv = document.getElementById('history');
  historyDiv.innerHTML = '<h2>Historial</h2>';

  cupones.forEach(cupon => {
    const cuponDiv = document.createElement('div');
    cuponDiv.classList.add('history-item');

    const estrellas = '‚òÖ'.repeat(cupon.calificacion) + '‚òÜ'.repeat(5 - cupon.calificacion);

    cuponDiv.innerHTML = `
      <p><strong>Tipo:</strong> ${cupon.tipo}</p>
      <p><strong>Detalle:</strong> ${cupon.detalle}</p>
      <p><strong>Calificaci√≥n:</strong> <span style="color:#ffd700">${estrellas}</span> üíó</p>
      <p class="date">${cupon.fecha}</p>
    `;
    historyDiv.appendChild(cuponDiv);
  });
}

// Mostrar historial al cargar
document.addEventListener('DOMContentLoaded', mostrarHistorial);
</script>

</body>
</html>
